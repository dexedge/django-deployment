{% extends 'schletter_app/base.html' %}
{% block page_title %}Works{% endblock page_title %}
{% block page_header %}
  <div class="row">
    <h2>Works</h2>
    <span class="pt-2 pl-4"> ({{ paginator.count }})</span>
  </div>
  <div class="row pb-3">
    <div class="mb-3 mt-2">Click on a row to see the detail view for that work
    </div>
    <form class="form-inline ml-auto" action="{% url 'schletter_app:works' %}" method="get">
      <div class="form-group mb-3 ml-2">
        <input name="q" class="form-control" type="text" placeholder="Search">
      </div>
      <div class="form-group mb-3 ml-2">
        <button class="btn btn-primary ml-2" type="submit">Search</button>
        <a class="btn btn-secondary ml-2" href="{% url 'schletter_app:works' %}" role="button">Reset</a>
      </div>
    </form>
    {% comment %} <small class="ml-auto pr-3 pt-2">Search by full or partial title or genre</small> {% endcomment %}
  </div>
{% endblock page_header %}
{% block content %}
  <ul>
    {% for work in works %}
      <a href="{% url 'schletter_app:work' work.pk %}?{{ request.GET.urlencode }}" class="list-group-item list-group-item-action">
              {% if work.title == "No title" %}
                {{work.title}}
              {% else %}
                <em>{{work.title}}</em>
              {% endif %} ({{work.genre}})
      </a>
    {% empty %}
      <p>No works match this search</p>
    {% endfor %}
  </ul>

{% endblock content %}